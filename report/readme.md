Примерный план работы и содержание разделов
1. Введение
   Актуальность: почему шлюз — узкое место и точка контроля; рост требований к SLO.
   Объект и предмет: API Gateway в микросервисной архитектуре; производительность конкретных реализаций.
   Цель и задачи: сравнить; определить метрики; разработать методику; провести эксперименты; сделать выводы.
   Методы: нагрузочное тестирование, измерение системных метрик, статистическая обработка результатов.
   Практическая значимость: рекомендации по выбору, воспроизводимый стенд.
2. Теоретические основы
   Микросервисная архитектура: свойства, плюсы/минусы, сетевые издержки.
   Паттерн API Gateway: назначение, типовые функции (routing, auth, rate limit, observability).
   Производительность сетевых компонентов: задержка/пропускная способность/ошибки, влияние TLS, keep-alive, очередей, backpressure.
   Метрики и статистика: p50/p95/p99, throughput, error rate, tail latency, warm-up/JIT.
3. Обзор сравниваемых решений
   Nginx как L7‑шлюз: модель событийного I/O, конфигурация, типовые модули, сильные/слабые стороны.
   Spring Cloud Gateway (reactive): фильтры, маршрутизация, интеграции, особенности реактивного стека.
   Spring Cloud Gateway MVC (servlet): архитектура, расширяемость, отличия от reactive.
   Сравнение функционала: какие сценарии можно поставить «честно» одинаково, какие — с оговорками.
4. Методика экспериментального исследования
   Стенд: железо/ОС/сеть, контейнеризация (если есть), версии ПО.
   Тестовые сценарии:
   простая прокси‑маршрутизация (baseline)
   маршрутизация + 1–N фильтров (headers, rewrite, logging)
   TLS termination (опционально)
   rate limiting/аутентификация ()
   Нагрузочный профиль: уровни конкурентности, длительность прогонов, прогрев, повторяемость.
   Инструменты: генератор нагрузки, сбор метрик (CPU/RAM, network, latency histogram), логирование.
   Критерии корректности: одинаковые таймауты, keep-alive, HTTP/1.1 vs HTTP/2, размеры ответов/запросов.
5. Реализация стенда и конфигураций
   Конфигурация nginx: upstream’ы, правила маршрутизации, параметры воркеров/соединений.
   Конфигурация Spring Cloud Gateway: routes, filters, настройки пула/таймаутов.
   Конфигурация Spring Cloud Gateway MVC: аналогичные правила, настройки сервлетного контейнера.
   Тестовые бэкенды: минимальные сервисы-эхо/CRUD или заглушки; обеспечение одинакового поведения.
6. Результаты экспериментов
   Baseline результаты: таблицы/графики latency и throughput.
   Результаты по сценариям: влияние фильтров, TLS, конкурентности.
   Потребление ресурсов: CPU/RAM, устойчивость, деградация и error rate.
   Повторяемость: разброс результатов, доверительные интервалы (если добавишь).
7. Анализ и обсуждение
   Интерпретация: почему результаты такие (модель выполнения, накладные расходы, I/O).
   Trade-offs: производительность vs гибкость/расширяемость/удобство разработки.
   Ограничения исследования: что могло повлиять, что не сравнивалось.
   Практические рекомендации: какой вариант при каких требованиях и контексте.
8. Заключение
   Итоги по цели/задачам: кратко по каждому пункту.
   Основные выводы: лидеры по сценариям, условия применимости.
   Дальнейшая работа: расширение сценариев (auth, WAF), сравнение с другими gateway, тесты в k8s.
